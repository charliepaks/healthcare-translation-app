(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(7283)}])},7283:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return Home}});var t=s(5893),r=s(5379),n=s.n(r),c=s(7294);let o={"en-US":"English (US)","en-GB":"English (UK)","es-ES":"Spanish (Spain)","fr-FR":"French (France)","de-DE":"German (Germany)","ar-SA":"Arabic (Saudi Arabia)","hi-IN":"Hindi (India)","ru-RU":"Russian (Russia)","ja-JP":"Japanese (Japan)","ko-KR":"Korean (South Korea)"},i={en:"English",es:"Spanish",fr:"French",de:"German",ar:"Arabic",hi:"Hindi",ru:"Russian",ja:"Japanese",ko:"Korean",zh:"Chinese"};function LanguageSelector(e){let{sourceLang:a,onSourceChange:s,targetLang:r,onTargetChange:n}=e;return(0,t.jsxs)("div",{className:"flex flex-col space-y-2  items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex flex-col w-full",children:[(0,t.jsx)("label",{className:"font-semibold text-sm mb-1",children:"Spoken Language"}),(0,t.jsx)("select",{className:"border p-1 rounded w-full",value:a,onChange:e=>s(e.target.value),children:Object.entries(o).map(e=>{let[a,s]=e;return(0,t.jsx)("option",{value:a,children:s},a)})})]}),(0,t.jsxs)("div",{className:"flex flex-col w-full",children:[(0,t.jsx)("label",{className:"font-semibold text-sm mb-1",children:"Target Language"}),(0,t.jsx)("select",{className:"border p-1 rounded w-full",value:r,onChange:e=>n(e.target.value),children:Object.entries(i).map(e=>{let[a,s]=e;return(0,t.jsx)("option",{value:a,children:s},a)})})]})]})}function RecordButton(e){let{sourceLang:a,targetLang:s,onResult:r}=e,[n,o]=(0,c.useState)(!1),[i,l]=(0,c.useState)(!1),d=(0,c.useRef)(null),m=(0,c.useRef)([]),x="http://127.0.0.1:8000",startRecording=async()=>{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e);d.current=t,m.current=[],t.ondataavailable=e=>{e.data.size>0&&m.current.push(e.data)},t.onstop=async()=>{o(!1),l(!0);let e=new Blob(m.current,{type:"audio/webm"});m.current=[];let t=new FormData;t.append("file",e,"recorded.webm");try{let e=await fetch("".concat(x,"/api/speech/transcribe?lang=").concat(a),{method:"POST",body:t});if(!e.ok){console.error("Speech transcription failed:",await e.text()),l(!1);return}let n=await e.json(),c=n.transcript,o=await fetch("".concat(x,"/api/translate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:c,source_lang:a,target_lang:s})}),i=await o.json(),d=i.translated_text,m=await fetch("".concat(x,"/api/tts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:d,lang:s})}),b=await m.json(),u=b.audio_base64;r&&r({originalText:c,translatedText:d,audioBase64:u})}catch(e){console.error("Error processing audio:",e)}l(!1)},t.start(),o(!0)};return(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsx)("button",{onClick:startRecording,disabled:n||i,className:"px-4 py-2 text-white bg-green-600 rounded-lg disabled:opacity-50 w-40",children:n?"Recording...":"Start"}),(0,t.jsx)("button",{onClick:()=>{let e=d.current;e&&"recording"===e.state&&e.stop()},disabled:!n||i,className:"px-4 py-2 text-white bg-red-600 rounded-lg disabled:opacity-50 w-40",children:"Stop"}),i&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-5 h-5 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-gray-700",children:"Processing..."})]})]})}function Home(){let[e,a]=(0,c.useState)("en-US"),[s,r]=(0,c.useState)("es"),[o,i]=(0,c.useState)(""),[l,d]=(0,c.useState)(""),[m,x]=(0,c.useState)(null),[b,u]=(0,c.useState)([]),[h,g]=(0,c.useState)(!1),[j,f]=(0,c.useState)(!1),[p,y]=(0,c.useState)(!1),w=(0,c.useRef)(null),scrollToBottom=()=>{var e;null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},createAudioUrl=e=>{if(!e)return null;let a=new Uint8Array(e.match(/.{1,2}/g).map(e=>parseInt(e,16))),s=new Blob([a],{type:"audio/mp3"});return URL.createObjectURL(s)},N=m?createAudioUrl(m):null,v=(()=>{let e={};return b.forEach(a=>{let s=a.timestamp.toLocaleDateString();e[s]||(e[s]=[]),e[s].push(a)}),e})();return(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a min-h-screen bg-gradient-to-b from-blue-50 to-indigo-50 text-gray-800",children:[(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a max-w-4xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a text-center mb-8 transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)("h1",{className:"jsx-2b5549e8eec1c33a text-3xl md:text-4xl font-bold text-indigo-700 mb-2",children:"Healthcare Translation App"}),(0,t.jsx)("p",{className:"jsx-2b5549e8eec1c33a text-gray-600",children:"Breaking language barriers in healthcare"})]}),(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a md:col-span-1",children:(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a bg-white rounded-xl shadow-lg p-5 transition-all duration-300 hover:shadow-xl",children:[(0,t.jsx)("h2",{className:"jsx-2b5549e8eec1c33a text-xl font-semibold text-indigo-700 mb-4",children:"Settings"}),(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a mb-6 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a",children:[(0,t.jsx)("label",{className:"jsx-2b5549e8eec1c33a block text-sm font-medium text-gray-700 mb-1"}),(0,t.jsx)(LanguageSelector,{sourceLang:e,onSourceChange:a,targetLang:s,onTargetChange:r})]}),(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a",children:(0,t.jsx)("label",{className:"jsx-2b5549e8eec1c33a block text-sm font-medium text-gray-700 mb-1"})})]}),(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a flex flex-col items-center mb-4",children:[(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a "+"transition-all duration-500 ".concat(h?"animate-pulse bg-red-50 border-red-200":"bg-white border-gray-200"," border p-4 rounded-lg w-full mb-2"),children:(0,t.jsx)(RecordButton,{sourceLang:e,targetLang:s,onResult:e=>{let{originalText:a,translatedText:s,audioBase64:t}=e;i(a),d(s),x(t),f(!1);let r=new Date;u(e=>[...e,{originalText:a,translatedText:s,audioBase64:t,timestamp:r,timeFormatted:"".concat(r.toLocaleDateString()," ").concat(r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}]),setTimeout(scrollToBottom,100)},onRecordingStateChange:e=>{g(e),!e&&h&&f(!0)},className:"flex justify-center space-x-4",startButtonClass:"flex items-center justify-center ".concat(h||j?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," transition-colors text-white px-4 py-2 rounded-lg"),stopButtonClass:"flex items-center justify-center ".concat(h?"bg-red-500 hover:bg-red-600":"bg-gray-300 cursor-not-allowed"," transition-colors text-white px-4 py-2 rounded-lg"),startIconClass:"h-5 w-5 mr-1",stopIconClass:"h-5 w-5 mr-1",processingSpinner:(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),showProcessingState:j})}),(0,t.jsx)("p",{className:"jsx-2b5549e8eec1c33a text-sm text-gray-600 italic text-center",children:"Click start to begin recording and stop when finished"})]})]})}),(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a md:col-span-2",children:[(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a bg-white rounded-xl shadow-lg p-5 mb-6 transition-all duration-300 hover:shadow-xl",children:[(0,t.jsx)("h2",{className:"jsx-2b5549e8eec1c33a text-xl font-semibold text-indigo-700 mb-4",children:"Current Translation"}),(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a my-3",children:[(0,t.jsx)("label",{className:"jsx-2b5549e8eec1c33a block font-medium text-gray-700 mb-1",children:"Spoken text:"}),(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a border border-gray-200 p-3 rounded-lg bg-gray-50 min-h-[60px] transition-colors duration-300",children:o||(0,t.jsx)("span",{className:"jsx-2b5549e8eec1c33a text-gray-400 italic",children:"No text yet"})})]}),(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a my-3",children:[(0,t.jsx)("label",{className:"jsx-2b5549e8eec1c33a block font-medium text-gray-700 mb-1",children:"Translated text:"}),(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a border border-gray-200 p-3 rounded-lg bg-gray-50 min-h-[60px] transition-colors duration-300",children:l||(0,t.jsx)("span",{className:"jsx-2b5549e8eec1c33a text-gray-400 italic",children:"No translation yet"})})]}),N&&(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a my-3 transition-all duration-500 transform hover:scale-105",children:[(0,t.jsx)("label",{className:"jsx-2b5549e8eec1c33a block font-medium text-gray-700 mb-1",children:"Audio playback:"}),(0,t.jsx)("audio",{controls:!0,src:N,className:"jsx-2b5549e8eec1c33a w-full"})]})]}),(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a bg-white rounded-xl shadow-lg p-5 transition-all duration-300 hover:shadow-xl",children:[(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"jsx-2b5549e8eec1c33a text-xl font-semibold text-indigo-700",children:"Transcript History"}),b.length>0&&(0,t.jsxs)("button",{onClick:()=>y(!0),className:"jsx-2b5549e8eec1c33a px-4 py-2 rounded-lg bg-red-100 hover:bg-red-200 \n                    transition-colors duration-300 text-red-600 text-sm font-medium flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-2b5549e8eec1c33a h-4 w-4 mr-1",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",className:"jsx-2b5549e8eec1c33a"})}),"Clear History"]})]}),(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a max-h-[400px] overflow-y-auto pr-2",children:0===b.length?(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a flex flex-col items-center justify-center text-center p-6 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-2b5549e8eec1c33a h-12 w-12 text-gray-400 mb-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z",className:"jsx-2b5549e8eec1c33a"})}),(0,t.jsx)("p",{className:"jsx-2b5549e8eec1c33a text-gray-500",children:"No transcripts recorded yet."}),(0,t.jsx)("p",{className:"jsx-2b5549e8eec1c33a text-gray-400 text-sm mt-1",children:"Speak into the microphone to begin"})]}):(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a space-y-6",children:[Object.keys(v).map(e=>(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a animate-fadeIn",children:[(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a flex items-center mb-2",children:[(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-full",children:e}),(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a border-t border-gray-200 flex-grow ml-2"})]}),(0,t.jsx)("ul",{className:"jsx-2b5549e8eec1c33a space-y-4",children:v[e].map((e,a)=>{let s=e.audioBase64?createAudioUrl(e.audioBase64):null;return(0,t.jsxs)("li",{className:"jsx-2b5549e8eec1c33a border border-gray-200 p-4 rounded-lg bg-white transition-all \n                                duration-300 hover:shadow-md",children:[(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a flex justify-between items-start mb-2",children:(0,t.jsx)("span",{className:"jsx-2b5549e8eec1c33a bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}),(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a mb-2",children:[(0,t.jsx)("p",{className:"jsx-2b5549e8eec1c33a font-medium text-gray-700",children:"Original:"}),(0,t.jsx)("p",{className:"jsx-2b5549e8eec1c33a ml-1 text-gray-800",children:e.originalText})]}),(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a mb-2",children:[(0,t.jsx)("p",{className:"jsx-2b5549e8eec1c33a font-medium text-gray-700",children:"Translated:"}),(0,t.jsx)("p",{className:"jsx-2b5549e8eec1c33a ml-1 text-gray-800",children:e.translatedText})]}),s&&(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a mt-2 pt-2 border-t border-gray-100",children:(0,t.jsx)("audio",{controls:!0,className:"jsx-2b5549e8eec1c33a w-full",children:(0,t.jsx)("source",{src:s,type:"audio/mp3",className:"jsx-2b5549e8eec1c33a"})})})]},a)})})]},e)),(0,t.jsx)("div",{ref:w,className:"jsx-2b5549e8eec1c33a"})]})}),b.length>3&&(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a sticky bottom-4 flex justify-center mt-4",children:(0,t.jsxs)("button",{onClick:()=>y(!0),className:"jsx-2b5549e8eec1c33a px-4 py-2 rounded-full bg-red-500 hover:bg-red-600 \n                    transition-colors duration-300 text-white shadow-lg flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-2b5549e8eec1c33a h-4 w-4 mr-1",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",className:"jsx-2b5549e8eec1c33a"})}),"Clear All"]})})]})]})]})]}),p&&(0,t.jsx)("div",{className:"jsx-2b5549e8eec1c33a fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fadeIn",children:(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a bg-white rounded-xl p-6 max-w-md mx-4 animate-scaleIn",children:[(0,t.jsx)("h3",{className:"jsx-2b5549e8eec1c33a text-xl font-bold mb-4",children:"Clear Transcript History?"}),(0,t.jsx)("p",{className:"jsx-2b5549e8eec1c33a text-gray-600 mb-6",children:"Are you sure you want to clear all transcript history? This action cannot be undone."}),(0,t.jsxs)("div",{className:"jsx-2b5549e8eec1c33a flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:()=>y(!1),className:"jsx-2b5549e8eec1c33a px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 transition-colors text-gray-800",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{u([]),y(!1)},className:"jsx-2b5549e8eec1c33a px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 transition-colors text-white",children:"Clear History"})]})]})}),(0,t.jsx)(n(),{id:"2b5549e8eec1c33a",children:"@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes scaleIn{from{-webkit-transform:scale(.95);transform:scale(.95);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes scaleIn{from{-moz-transform:scale(.95);transform:scale(.95);opacity:0}to{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes scaleIn{from{-o-transform:scale(.95);transform:scale(.95);opacity:0}to{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes scaleIn{from{-webkit-transform:scale(.95);-moz-transform:scale(.95);-o-transform:scale(.95);transform:scale(.95);opacity:0}to{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}.animate-fadeIn{-webkit-animation:fadeIn.3s ease-out;-moz-animation:fadeIn.3s ease-out;-o-animation:fadeIn.3s ease-out;animation:fadeIn.3s ease-out}.animate-scaleIn{-webkit-animation:scaleIn.3s ease-out;-moz-animation:scaleIn.3s ease-out;-o-animation:scaleIn.3s ease-out;animation:scaleIn.3s ease-out}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.animate-spin{-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite}"})]})}}},function(e){e.O(0,[379,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);